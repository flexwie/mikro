<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>@flexwie/mikro</h1>
<p><img src="https://img.shields.io/npm/v/@flexwie/mikro" alt="npm (scoped)">
<img src="https://img.shields.io/github/commit-activity/m/flexwie/mikro" alt="GitHub commit activity">
<img src="https://github.com/fosscom/mikro/workflows/Tests/badge.svg" alt="Tests"></p>
<p><code>mikro</code> aims to simplify developing microservices on nodejs by taking away the need to configure infrastructure. Simply write services with the framework and deploy them by ejecting the infrastructure for use with Docker or K8s. Read more on how to deploy <code>mikro</code> at <a href="#deployment">Deployment</a>.</p>
<h2>Usage</h2>
<p>Install the framework from npm:</p>
<pre class="prettyprint source lang-sh"><code>npm install --save @flexwie/mikro
</code></pre>
<p>Then use it in your microservice like so:</p>
<pre class="prettyprint source lang-javascript"><code>const { Mikro } = require('@flexwie/mikro')

/*
create a new instance and configure it (optional)
first parameter is the name of your service, second are options for your environement
*/
const mikro = new Mikro('example', {
    redis: {        // redis connection details
        host: 'localhost',
        port: 6379,
        db: 0
    }
})

// ... your microservice code here

// register your new service with the registry
mikro.register()

</code></pre>
<p>You can use the included CLI to quickly create a boilerplate. For more information see the <a href="/cli">CLI Readme</a>.</p>
<pre class="prettyprint source"><code>npx @flexwie/mikro new service_name
</code></pre>
<p><code>mikro</code> will automatically send heath metrics to the registry in the background. You can then use <code>mikro</code>s functions to help with your service. See detailed information below.</p>
<h3>EventStream</h3>
<p><code>mikro</code> features an event stream for node communication and alerting.</p>
<pre class="prettyprint source lang-javascript"><code>// publish an event
mikro.events.publish(&quot;testevent&quot;, {data: &quot;test&quot;})

// add a new subscriber to an event
mikro.events.subscribe(&quot;testevent&quot;, (err, data) => {
    console.log(data)
    /*
    {
        emitterName: &quot;automatically-generated-name&quot;,
        timestamp: 123456789,
        data: &quot;test&quot;
    }
    */
})
</code></pre></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Mon Dec 21 2020 10:43:34 GMT+0100 (Mitteleurop√§ische Normalzeit) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>